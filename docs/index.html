<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Representation of Python's SpatialData in R • SpatialData</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Representation of Python's SpatialData in R">
<meta name="description" content="Interface to Pythons SpatialData, currently including: reticulate-based use of spatialdata-io for reading of manufracturer data and writing to .zarr, on-disk representation of images/labels as ZarrArrays (Rarr) and shapes/points as arrow objects, and method drafts for visualization and coordinate system handling. In addition, scverse data examples have been made available through the NSF OSN, are accessible from within R, and cached using BiocFileCache. Also, theres an interface to aligning data into a common (identity) space.">
<meta property="og:description" content="Interface to Pythons SpatialData, currently including: reticulate-based use of spatialdata-io for reading of manufracturer data and writing to .zarr, on-disk representation of images/labels as ZarrArrays (Rarr) and shapes/points as arrow objects, and method drafts for visualization and coordinate system handling. In addition, scverse data examples have been made available through the NSF OSN, are accessible from within R, and cached using BiocFileCache. Also, theres an interface to aligning data into a common (identity) space.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">SpatialData</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/SpatialData.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/HelenaLC/SpatialData/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="spatialdata-r-package">“SpatialData” R package<a class="anchor" aria-label="anchor" href="#spatialdata-r-package"></a>
</h1></div>
<p>This package explores strategies for Bioconductor-oriented solutions to importing and analyzing data from Spatial Transcriptomics platforms.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<pre><code><span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"HelenaLC/SpatialData"</span><span class="op">)</span> <span class="co"># or use vjcitn repo</span></span></code></pre>
<p>To <em>interrogate</em> our S3 bucket you will need <a href="https://cran.r-project.org/web/packages/paws/index.html" class="external-link">paws</a> installed; it is not necessary for retrievals.</p>
</div>
<div class="section level1">
<h1 id="ingestion-workflow">Ingestion workflow<a class="anchor" aria-label="anchor" href="#ingestion-workflow"></a>
</h1>
<div class="section level2">
<h2 id="query-bioconductor-open-storage-network-bucket">Query Bioconductor Open Storage Network Bucket<a class="anchor" aria-label="anchor" href="#query-bioconductor-open-storage-network-bucket"></a>
</h2>
<pre><code>&gt; available_spd_zarr_zips()  # as of Nov 10 2024
checking Bioconductor OSN bucket...
[1] "mcmicro_io.zip"
[2] "merfish.zarr.zip"
[3] "mibitof.zip"
[4] "steinbock_io.zip"
[5] "visium_associated_xenium_io_aligned.zip"
[6] "visium_hd_3.0.0_io.zip"                 </code></pre>
</div>
<div class="section level2">
<h2 id="bring-a-zip-archive-into-your-local-cache">Bring a zip archive into your local cache<a class="anchor" aria-label="anchor" href="#bring-a-zip-archive-into-your-local-cache"></a>
</h2>
<pre><code><span><span class="va">tf</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tf</span><span class="op">)</span></span>
<span><span class="va">pa</span> <span class="op">=</span> <span class="fu"><a href="reference/unzip_spd_demo.html">unzip_spd_demo</a></span><span class="op">(</span>zipname<span class="op">=</span><span class="st">"mibitof.zip"</span>, destination<span class="op">=</span><span class="va">tf</span>, source<span class="op">=</span><span class="st">"biocOSN"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="va">pa</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># see the files</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="import-the-spatialdata-instance-and-work-with-it">Import the SpatialData instance, and work with it<a class="anchor" aria-label="anchor" href="#import-the-spatialdata-instance-and-work-with-it"></a>
</h2>
<pre><code><span><span class="va">mibi</span> <span class="op">=</span> <span class="fu"><a href="reference/readSpatialData.html">readSpatialData</a></span><span class="op">(</span><span class="va">pa</span><span class="op">)</span></span></code></pre>
<p>Outputs:</p>
<pre><code>&gt; mibi
class: SpatialData
images(3): point16_image point23_image point8_image
labels(3): point16_labels point23_labels point8_labels
shapes(0):
points(0):
tables(1): table</code></pre>
<pre><code>&gt; table(mibi)
class: SingleCellExperiment
dim: 36 3309
metadata(1): spatialdata_attrs
assays(1): X
rownames(36): ASCT2 ATP5A ... XBP1 vimentin
rowData names(0):
colnames(3309): 9376-1 9377-1 ... 4273-0 4274-0
colData names(12): row_num point ... batch library_id
reducedDimNames(3): X_scanorama X_umap spatial
mainExpName: NULL
altExpNames(0):</code></pre>
</div>
</div>
<div class="section level1">
<h1 id="todo-build-provenance-for-each-example">TODO: build provenance for each example<a class="anchor" aria-label="anchor" href="#todo-build-provenance-for-each-example"></a>
</h1>
<pre><code><span><span class="va">make_spd_prov</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span> <span class="va">outfile</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">zarr_url</span>,</span>
<span>   <span class="va">prose_tag</span>,</span>
<span>   <span class="va">pub_url</span>,</span>
<span>   <span class="va">date_uploaded</span><span class="op">)</span> <span class="op">{</span></span>
<span>   <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">date_uploaded</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"must supply upload date"</span><span class="op">)</span></span>
<span>   <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">pub_url</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"must supply pub_url"</span><span class="op">)</span></span>
<span>   <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">prose_tag</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"must supply upload prose_tag"</span><span class="op">)</span></span>
<span>   <span class="va">basic</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    SpatialDataTag <span class="op">=</span> <span class="va">prose_tag</span>,</span>
<span>    zarr_url <span class="op">=</span> <span class="va">zarr_url</span>,</span>
<span>    pub_url <span class="op">=</span> <span class="va">pub_url</span>,</span>
<span>    date_uploaded <span class="op">=</span> <span class="va">date_uploaded</span><span class="op">)</span></span>
<span>  <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">write_json</a></span><span class="op">(</span><span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">toJSON</a></span><span class="op">(</span><span class="va">basic</span><span class="op">)</span>, <span class="va">outfile</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">make_spd_prov</span><span class="op">(</span>zarr_url <span class="op">=</span> <span class="st">"https://s3.embl.de/spatialdata/spatialdata-sandbox/xenium_rep1_io_aligned.zip"</span>,</span>
<span>   prose_tag <span class="op">=</span> <span class="st">"spatialdata notebooks aligned rep1"</span>,</span>
<span>   pub_url <span class="op">=</span> <span class="st">"https://pubmed.ncbi.nlm.nih.gov/38114474/"</span>,</span>
<span>   date_uploaded <span class="op">=</span> <span class="st">"2024.11.10"</span><span class="op">)</span></span></code></pre>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/HelenaLC/SpatialData/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/HelenaLC/SpatialData/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/Artistic-2.0" class="external-link">Artistic-2.0</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SpatialData</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Helena L. Crowell <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4801-1767" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Vince Carey <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4046-0063" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Yixing E. Dong <br><small class="roles"> Author </small> <a href="https://orcid.org/0009-0003-5115-5686" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Artür Manukyan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-0441-9517" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Dario Righelli <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1504-3583" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Louise Deconinck <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8100-6823" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Helena L. Crowell, Vince Carey, Yixing E. Dong, Artür Manukyan, Dario Righelli, Louise Deconinck.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
